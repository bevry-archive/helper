# 2015 December 9
# https://github.com/bevry/base

# Use the latest travis infrastructure
sudo: false

# We use node
language: node_js
node_js:
  - "6"
cache:
  directories:
    - node_modules

# Prepare our tests
# Ensure the project is setup correctly and compiled
install: "npm run-script setup"
before_script: "npm run-script compile"

# Run our tests
script: "npm test"

# Custom notifications
notifications:
  slack:
    secure: ksueP2XJIKgz3t7Q14r6+ISi2Md116VlcCifEZ/lY0HAqcKw7CorRAAvfNHQhy35YWbp6LUm+BApnuEq5hF01cU7g9bsYvhNM3hUv6uWHnbJ8GTyu5J4Y2lm4t6vG230yG4b3cXpzRiqFCu5OgAyIOGMwIUuo4ePq9EYMoe3DfQ=
  email:
    recipients:
      secure: g5Kn+WSbZ1/aHSTY2n39w6/njST70ANZJ37sNxYQMiRlpdjNbDcVbTEDw3GGSt4u413iy9vs8z3IhwzGKl8pNPJW1lQ0TrQf8mHmV+moqX0p4GesTtRaIdR2Gs8KUsxV76aFEYCMy6dDwz+y9qXgOZURjRlpmpETw9Hr7XWUSiQ=

# Custom Env
# travis env set BEVRY_CM_KEY $BEVRY_CM_KEY
# travis env set BEVRY_DATABASE_URL $BEVRY_DATABASE_STAGING_URL
# travis env set BEVRY_TWITTER_CONSUMER_KEY $BEVRY_TWITTER_CONSUMER_KEY
# travis env set BEVRY_TWITTER_CONSUMER_SECRET $BEVRY_TWITTER_CONSUMER_SECRET
# travis env set TWITTER_ACCESS_TOKEN $TWITTER_ACCESS_TOKEN
# travis env set TWITTER_ACCESS_TOKEN_SECRET $TWITTER_ACCESS_TOKEN_SECRET
# travis env set BEVRY_FACEBOOK_APP_ACCESS_TOKEN $BEVRY_FACEBOOK_APP_ACCESS_TOKEN
# travis env set DP_CM_LIST_ID $DP_CM_LIST_ID
# travis env set DP_SEGMENT_KEY $DP_SEGMENT_KEY
# travis env set SH_CM_LIST_ID $SH_CM_LIST_ID
# travis env set SH_FACEBOOK_GROUP_ID $SH_FACEBOOK_GROUP_ID
# travis env set SH_API_KEY $SH_API_KEY
